{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./styles/Proyectos.css';import logo from'../images/icon.png';import{Link}from\"react-router-dom\";/*Como tal, la plataforma, sea desde registro o desde iniciar sesión, siempre recibe una id de usuario, ésta\r\nid nos servirá para sellar el usuario del sistema a usar, será el parámetro id de usuario*/import{useParams}from'react-router-dom';//Base de datos por firebase\nimport app from\"../firebaseConfig.js\";import{getDatabase,get,ref}from'firebase/database';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Proyectos(){//Accesamos a la id del usuario desde el parámetro url\nconst{usuarioID}=useParams();//Usamos el state para restaurar datos o información\nconst[usuarioActual,setUsuarioActual]=useState(null);console.log(\"Parametro recibido: \",usuarioID);useEffect(()=>{//Traemos la información de dicho usuario específico\nconst fetchUsuario=async()=>{try{//Primero seteamos la base de datos como tal, checando directamente la id\nconst db=getDatabase(app);const dbRef=ref(db,\"usuarios/\".concat(usuarioID));//Tomamos la data directamente de dicho usuarioID\nconst snapshot=await get(dbRef);//Checamos si existe un snapshot con dicha información específica\nif(snapshot.exists()){//Extraemos la información del usuario del snapshot\nconst userData=snapshot.val();//Seteamos la data de usuario en nuestro estado global de usuario\nsetUsuarioActual(userData);}else{console.log(\"No se encontró un usuario con dicha información\");}}catch(error){console.error(\"Error consiguiendo la información del usuario\");}};fetchUsuario();},[usuarioID]);//Incluimos éste caso como dependencia para recorrer el efecto si hay cambios\nif(!usuarioID||!usuarioActual){return/*#__PURE__*/_jsx(\"div\",{children:\"Cargando\"});}return/*#__PURE__*/_jsxs(\"section\",{className:\"Proyectos\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"Tab\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Proyex logo\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Bienvenido: \",usuarioActual.nombre]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{children:\" Cerrar Sesi\\xF3n \"}),\" \"]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"Menu\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Elemento\",children:/*#__PURE__*/_jsx(\"label\",{className:\"Titulo\",children:\"Opciones para manejo de proyecto\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"Secciones\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Elemento\",children:/*#__PURE__*/_jsx(Link,{to:\"/CrearProyecto/\".concat(usuarioID),children:/*#__PURE__*/_jsx(\"button\",{children:\"Crear\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"Elemento\",children:/*#__PURE__*/_jsx(Link,{to:\"/UnirseProyecto/\".concat(usuarioID),children:/*#__PURE__*/_jsx(\"button\",{children:\"Unirse\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"Elemento\",children:/*#__PURE__*/_jsx(Link,{to:\"/BuscarProyecto/\".concat(usuarioID),children:/*#__PURE__*/_jsx(\"button\",{children:\"Buscar\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"Elemento\",children:/*#__PURE__*/_jsx(Link,{to:\"/EnlistarProyecto/\".concat(usuarioID),children:/*#__PURE__*/_jsx(\"button\",{children:\"Enlistar\"})})})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","logo","Link","useParams","app","getDatabase","get","ref","jsx","_jsx","jsxs","_jsxs","Proyectos","usuarioID","usuarioActual","setUsuarioActual","console","log","fetchUsuario","db","dbRef","concat","snapshot","exists","userData","val","error","children","className","src","alt","nombre","to"],"sources":["C:/Users/Usuario/Documents/GitHub/Gestionador-Proyectos-Grupal/frontend/src/components/Proyectos.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './styles/Proyectos.css';\r\nimport logo from '../images/icon.png';\r\nimport {Link} from \"react-router-dom\";\r\n\r\n/*Como tal, la plataforma, sea desde registro o desde iniciar sesión, siempre recibe una id de usuario, ésta\r\nid nos servirá para sellar el usuario del sistema a usar, será el parámetro id de usuario*/\r\nimport { useParams } from 'react-router-dom';\r\n\r\n//Base de datos por firebase\r\nimport app from \"../firebaseConfig.js\";\r\nimport { getDatabase, get, ref } from 'firebase/database';\r\n\r\nexport default function Proyectos() {\r\n    //Accesamos a la id del usuario desde el parámetro url\r\n    const { usuarioID } = useParams();\r\n\r\n    //Usamos el state para restaurar datos o información\r\n    const [usuarioActual, setUsuarioActual] = useState(null);\r\n\r\n    console.log(\"Parametro recibido: \", usuarioID);\r\n    \r\n    useEffect(() => {\r\n        //Traemos la información de dicho usuario específico\r\n        const fetchUsuario = async() => {\r\n            try {\r\n                //Primero seteamos la base de datos como tal, checando directamente la id\r\n                const db = getDatabase(app);\r\n                const dbRef = ref(db, `usuarios/${usuarioID}`);\r\n\r\n                //Tomamos la data directamente de dicho usuarioID\r\n                const snapshot = await get(dbRef);\r\n\r\n                //Checamos si existe un snapshot con dicha información específica\r\n                if (snapshot.exists()) {\r\n                    //Extraemos la información del usuario del snapshot\r\n                    const userData = snapshot.val();\r\n\r\n                    //Seteamos la data de usuario en nuestro estado global de usuario\r\n                    setUsuarioActual(userData);\r\n                }else{\r\n                    console.log(\"No se encontró un usuario con dicha información\")\r\n                }\r\n            }catch(error){\r\n                console.error(\"Error consiguiendo la información del usuario\")\r\n            }\r\n        };\r\n\r\n        fetchUsuario();\r\n    }, [usuarioID]); //Incluimos éste caso como dependencia para recorrer el efecto si hay cambios\r\n\r\n    if (!usuarioID || !usuarioActual){\r\n        return <div>Cargando</div>\r\n    }\r\n\r\n    return (\r\n        <section className=\"Proyectos\">\r\n            <section className='Tab'>\r\n                <div>\r\n                    <img src={logo} alt='Proyex logo'/>\r\n                    <label>Bienvenido: {usuarioActual.nombre}</label>\r\n                </div>\r\n                <div>\r\n                    {/*Creamos un botón con la función de cerrar sesión*/}\r\n                    <button> Cerrar Sesión </button> {/*Cerrar sesión  Log out*/}\r\n                </div>\r\n            </section>\r\n            <section className='Menu'>\r\n                <div className='Elemento'>\r\n                    <label className='Titulo'>Opciones para manejo de proyecto</label>\r\n                </div>\r\n                \r\n                <div className='Secciones'>\r\n                    <div className='Elemento'>\r\n                        <Link to= {`/CrearProyecto/${usuarioID}`}>\r\n                            <button>Crear</button>\r\n                        </Link>\r\n                    </div>\r\n                    <div className='Elemento'>\r\n                        <Link to= {`/UnirseProyecto/${usuarioID}`}>\r\n                            <button>Unirse</button>\r\n                        </Link>\r\n                    </div>\r\n                    <div className='Elemento'>\r\n                    <Link to= {`/BuscarProyecto/${usuarioID}`}>\r\n                            <button>Buscar</button>\r\n                        </Link>\r\n                    </div>\r\n\r\n                    <div className='Elemento'>\r\n            \r\n                        <Link to= {`/EnlistarProyecto/${usuarioID}`}>\r\n                            <button>Enlistar</button>\r\n\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </section>\r\n    )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}